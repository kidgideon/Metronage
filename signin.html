<!doctype html>
<html lang="en" dir="ltr">


<!-- Mirrored from geex.netlify.app/signin by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Jun 2025 19:41:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>SignIn - Metronagex  Admin & Dashboard Template</title>

	<link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600;700&amp;display=swap" rel="stylesheet">

	<!-- inject:css-->
	<link rel="stylesheet" href="assets/vendor/css/bootstrap/bootstrap.css">
    <link rel="stylesheet" href="../unpkg.com/swiper%4011.2.8/swiper-bundle.min.css">
	<link rel="stylesheet" href="styles/style.css">
	<!-- endinject -->
	  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon.ico">
	<!-- Fonts -->
	<link rel="stylesheet" href="../cdn.jsdelivr.net/npm/%40iconscout/unicons%404.0.8/css/line.min.css">
	
    <script>
		// Render localStorage JS:
		if (localStorage.theme) document.documentElement.setAttribute("data-theme", localStorage.theme);
		if (localStorage.layout) document.documentElement.setAttribute("data-nav", localStorage.navbar);
		if (localStorage.layout) document.documentElement.setAttribute("dir", localStorage.layout);
    </script>	
	<script src="//code.jivosite.com/widget/ndQJhMw1vw" async></script>
</head>

<body class="geex-dashboard authentication-page">
	<main class="geex-content">
		<div class="geex-content__authentication">
			<div class="geex-content__authentication__content">
				<div class="geex-content__authentication__content__wrapper">
					<div class="geex-content__authentication__content__logo">
						<a href='index.html'>
							<a href="index.html"><img src="./assets/images/logo-3.png" alt="Metronagex Logo"></a>
						</a>
					</div>
					<form id="signInForm" class="geex-content__authentication__form">
						<h2 class="geex-content__authentication__title">Welcome back ðŸ‘‹</h2>
						<div class="geex-content__authentication__form-group">
							<label for="accountNumberSignIn">Account Number</label>
							<input type="text" id="accountNumberSignIn" name="accountNumberSignIn" placeholder="Enter Your Account Number" required>
							<i class="uil-credit-card"></i>
						</div>
						
						<div class="geex-content__authentication__form-group">
							<label for="emailSignIn">Your Email</label>
							<input type="email" id="emailSignIn" name="emailSignIn" placeholder="Enter Your Email" required>
							<i class="uil-envelope"></i>
						</div>
						<div class="geex-content__authentication__form-group">
							<div class="geex-content__authentication__label-wrapper">
								<label for="loginPassword">Your Password</label>
								<a href='forgot-password.html'>Forgot Password?</a>
							</div>
							<input type="password" id="loginPassword" name="loginPassword" placeholder="Password" required>
							<i class="uil-eye toggle-password-type"></i>
						</div>
				
						<div class="geex-content__authentication__form-group custom-checkbox">
							<input type="checkbox" class="geex-content__authentication__checkbox-input" id="rememberMe">
							<label class="geex-content__authentication__checkbox-label" for="rememberMe">Remember Me</label>
						</div>
						<button type="submit" class="geex-content__authentication__form-submit">Sign In</button>
						<span class="geex-content__authentication__form-separator">Or</span>
						<div class="geex-content__authentication__form-social">
							<a href="#" class="geex-content__authentication__form-social__single">
								<img src="assets/img/icon/google.svg" alt="">Google
							</a>
							<a href="#" class="geex-content__authentication__form-social__single">
								<svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path d="M10.9133 0H11.0427C11.1465 1.2826 10.6569 2.24096 10.062 2.93497C9.47815 3.62419 8.67872 4.29264 7.38574 4.19122C7.29949 2.92698 7.78985 2.0397 8.38403 1.34729C8.93508 0.701997 9.94535 0.127781 10.9133 0ZM14.8274 13.3499V13.3859C14.464 14.4864 13.9457 15.4296 13.3132 16.3048C12.7358 17.0995 12.0282 18.1689 10.7647 18.1689C9.67302 18.1689 8.94786 17.4669 7.82898 17.4477C6.64541 17.4285 5.99452 18.0347 4.91238 18.1872H4.54341C3.74877 18.0722 3.10747 17.4429 2.64027 16.8759C1.26264 15.2003 0.19806 13.0361 0 10.2664V9.4526C0.0838563 7.47039 1.04701 5.85876 2.32721 5.0777C3.00285 4.66241 3.93166 4.30861 4.96589 4.46674C5.40913 4.53543 5.86195 4.68717 6.25887 4.83731C6.63503 4.98186 7.10542 5.23822 7.55106 5.22464C7.85294 5.21586 8.15322 5.05853 8.4575 4.94752C9.34877 4.62567 10.2225 4.2567 11.3741 4.43001C12.7581 4.63925 13.7404 5.25419 14.3474 6.20297C13.1766 6.94809 12.251 8.07096 12.4091 9.98848C12.5497 11.7303 13.5624 12.7493 14.8274 13.3499Z" fill="black"/>
								</svg>
								Apple
							</a>
						</div>
						<div class="geex-content__authentication__form-footer">
							Doesn't have any account? <a href='signup.html'>Sign Up</a>
						</div>
					</form>
				</div>
			</div>	
			<div class="geex-content__authentication__img">
				<img style="height: 100%; width: 700px; object-fit: cover;" src="./assets/images/resource/about-9.jpg" alt="">
			</div>
		</div>
	</main>

	<!-- inject:js-->
	<script src="assets/vendor/js/jquery/jquery-3.5.1.min.js"></script>
	<script src="assets/vendor/js/jquery/jquery-ui.js"></script>
	<script src="assets/vendor/js/bootstrap/bootstrap.min.js"></script>
	<script src="assets/js/main.js"></script>
	<!-- endinject-->
	<!-- Firebase Auth & Firestore -->
<script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore-compat.js"></script>
<script>
  function showModal(message) {
    document.getElementById('feedbackModalBody').innerText = message;
    var feedbackModal = new bootstrap.Modal(document.getElementById('feedbackModal'));
    feedbackModal.show();
  }

  // Your Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyCc5qqnnE9B23WrrDUvrqYzUKM1VqrRD-s",
    authDomain: "bank-app-3071f.firebaseapp.com",
    projectId: "bank-app-3071f",
    storageBucket: "bank-app-3071f.firebasestorage.app",
    messagingSenderId: "322072685602",
    appId: "1:322072685602:web:bc929044a9634cae672e7b"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  document.getElementById('signInForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  const email = document.getElementById('emailSignIn').value;
  const password = document.getElementById('loginPassword').value;
  const accountNumber = document.getElementById('accountNumberSignIn').value.trim();
  const btn = document.querySelector('.geex-content__authentication__form-submit');
  const originalText = btn.innerHTML;

  // Show loading
  btn.disabled = true;
  btn.innerHTML = `<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Signing In...`;

  try {
    // First, sign in with email and password
    const userCredential = await auth.signInWithEmailAndPassword(email, password);
    const user = userCredential.user;

    // Now, cross-check the account number
    const userRef = db.collection('users').doc(user.uid);
    const doc = await userRef.get();
    if (!doc.exists) {
      showModal("User record not found.");
      await auth.signOut();
      btn.disabled = false;
      btn.innerHTML = originalText;
      return;
    }
    const userData = doc.data();
    if (!userData.accountNumber || userData.accountNumber !== accountNumber) {
      showModal("Account number does not match our records.");
      await auth.signOut();
      btn.disabled = false;
      btn.innerHTML = originalText;
      return;
    }

    window.location.href = "index.html";
  } catch (error) {
    showModal(error.message);
    btn.disabled = false;
    btn.innerHTML = originalText;
  }
});
</script>

<!-- Modal -->
<div class="modal fade" id="feedbackModal" tabindex="-1" aria-labelledby="feedbackModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="feedbackModalLabel">Feedback</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="feedbackModalBody">
        <!-- Feedback message will be injected here -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

</body>


<!-- Mirrored from geex.netlify.app/signin by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Jun 2025 19:41:03 GMT -->
</html>